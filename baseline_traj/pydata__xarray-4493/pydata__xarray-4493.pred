{"model_name_or_path": "250526_anthropic_filemap_simple_review_sbl__claude-sonnet-4-20250514__t-0.00__p-1.00__c-5.00___swe_bench_lite_test", "instance_id": "pydata__xarray-4493", "model_patch": "diff --git a/xarray/core/variable.py b/xarray/core/variable.py\nindex 64c1895d..dc7348f1 100644\n--- a/xarray/core/variable.py\n+++ b/xarray/core/variable.py\n@@ -204,6 +204,11 @@ def as_compatible_data(data, fastpath=False):\n     if isinstance(data, Variable):\n         return data.data\n \n+    # Check for DataArray and extract its data to preserve dask arrays\n+    from .dataarray import DataArray\n+    if isinstance(data, DataArray):\n+        return data.data\n+\n     if isinstance(data, NON_NUMPY_SUPPORTED_ARRAY_TYPES):\n         return _maybe_wrap_data(data)\n \n"}